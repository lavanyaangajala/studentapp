{% extends "base.html" %}

{% block content %}

<div class="wrapper">
  <table id="student-table" class="table table-striped">
       <tr>
            <th>studentid</th>
            <th>name</th>
            <th>city</th>
            <th>marks</th>
            
      </tr>
      {% for student in students %}
        <tr>
           <td>{{ student[0] }}</td>
           <td>{{ student[1] }}</td>
           <td>{{ student[2] }}</td>
           <td>{{ student[3] }}</td>
           <td><button onclick="editstudent({{ student[0] }},'{{ student[1] }}','{{ student[2] }}', {{student[3]}})" class="btn btn-primary">Edit</button></td>
           <td><button onclick="if(confirm('Are you sure you want to delete this person?')){location.href = '/delete/{{ student[0] }}'}" class="btn btn-danger">Delete</button></td>
        </tr>
      {% endfor %}
      <tr>
        <form method="post" action="/add">
          <td><input type="number" name="studentid" id="studentid" class="form-control" placeholder="Enter studentid name"></td>
          <td><input type="text" name="name" id="name" class="form-control" placeholder="Enter Name"></td>
          <td><input type="text" name="city" id="city" class="form-control" placeholder="Enter City"></td>
          <td><input type="number" name="marks" id="marks" class="form-control" placeholder="Enter Marks"></td>
          <td><button type="submit" class="btn btn-success">Add</button></td>
        </form>
      </tr>
  </table>

  <div id="edit-form-container" style="display:none">
    <h3>Edit student</h3>
    <form id="edit-form" method="POST" action="/update">
      <input type="hidden" id="studentid" name="studentid">
      <div class="form-group">
        <label for="name">name</label>
        <input type="text" class="form-control" id="name" name="name" required>
      </div>
      
      <div class="form-group">
        <label for="city">City</label>
        <input type="text" class="form-control" id="city" name="city" required>
      </div>
      <div class="form-group">
        <label for="marks">Marks</label>
        <input type="number" class="form-control" id="marks" name="marks" required>
      </div>
      <button type="submit" class="btn btn-primary">Update</button>
      <button type="button" onclick="closeEditForm()" class="btn btn-secondary">Cancel</button>
    </form>
  </div>
</div>

{% endblock %}

